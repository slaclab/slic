<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SLIC: MCParticleManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SLIC
   &#160;<span id="projectnumber">6.1.1</span>
   </div>
   <div id="projectbrief">Simulation for the Linear Collider (SLIC) - Geant4 simulation application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceslic.html">slic</a></li><li class="navelem"><a class="el" href="classslic_1_1MCParticleManager.html">MCParticleManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classslic_1_1MCParticleManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MCParticleManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Management of global MCParticle information.  
 <a href="classslic_1_1MCParticleManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MCParticleManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classslic_1_1MCParticleManager.png" usemap="#MCParticleManager_map" alt=""/>
  <map id="MCParticleManager_map" name="MCParticleManager_map">
<area href="classSingleton.html" alt="Singleton&lt; MCParticleManager &gt;" shape="rect" coords="0,0,202,24"/>
<area href="classslic_1_1Module.html" title="Base class for slic code modules that provides common functionality, such as logging to an output str..." alt="Module" shape="rect" coords="212,0,414,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af7df816ebc395ab2a46635c4e83cd86a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#af7df816ebc395ab2a46635c4e83cd86a">MCParticleManager</a> ()</td></tr>
<tr class="separator:af7df816ebc395ab2a46635c4e83cd86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2658a2cf1cb406dee4ab01b75bbd8f"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a1f2658a2cf1cb406dee4ab01b75bbd8f">~MCParticleManager</a> ()</td></tr>
<tr class="separator:a1f2658a2cf1cb406dee4ab01b75bbd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ea8c1ebd7ff9c077b63b5e636c700da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a3ea8c1ebd7ff9c077b63b5e636c700da">addMCParticleTrackID</a> (G4int trackId, MCParticle *particle)</td></tr>
<tr class="separator:a3ea8c1ebd7ff9c077b63b5e636c700da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386be2ce20c3a98452ed6dbb7fee0e13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a386be2ce20c3a98452ed6dbb7fee0e13">applyLorentzTransformation</a> (LCCollection *mcparticles, const G4double angle)</td></tr>
<tr class="separator:a386be2ce20c3a98452ed6dbb7fee0e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae14e455a55510ec2b6e637a12bfe0c32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#ae14e455a55510ec2b6e637a12bfe0c32">createMCParticleCollection</a> ()</td></tr>
<tr class="separator:ae14e455a55510ec2b6e637a12bfe0c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb092e25ceccca267b4e4c773b3d855b"><td class="memItemLeft" align="right" valign="top">std::set&lt; G4PrimaryParticle * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#acb092e25ceccca267b4e4c773b3d855b">createPrimary</a> (G4PrimaryParticle *parent, MCParticle *mcp)</td></tr>
<tr class="separator:acb092e25ceccca267b4e4c773b3d855b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae782ddcc0efa0db2a1d77eebcb3f5dcf"><td class="memItemLeft" align="right" valign="top">G4PrimaryVertex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#ae782ddcc0efa0db2a1d77eebcb3f5dcf">createVertex</a> (MCParticle *mcp)</td></tr>
<tr class="separator:ae782ddcc0efa0db2a1d77eebcb3f5dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc912f098f09a151ad0f6b4cb6b33f5"><td class="memItemLeft" align="right" valign="top">MCParticle *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#affc912f098f09a151ad0f6b4cb6b33f5">findMCParticle</a> (G4int trackId)</td></tr>
<tr class="separator:affc912f098f09a151ad0f6b4cb6b33f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d80b923f84c72cd79737d517c2485d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a44d80b923f84c72cd79737d517c2485d">generateEvent</a> (LCCollectionVec *mcparticles, G4Event *event)</td></tr>
<tr class="separator:a44d80b923f84c72cd79737d517c2485d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1ee554fd586530634c2b1a5d680519"><td class="memItemLeft" align="right" valign="top">LCCollectionVec *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#afa1ee554fd586530634c2b1a5d680519">getMCParticleCollection</a> ()</td></tr>
<tr class="separator:afa1ee554fd586530634c2b1a5d680519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b83954eebdd3823a26fc1b327bd014"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceslic.html#a7329adb19282b74b446ce0054dab0788">PrimaryParticleMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a84b83954eebdd3823a26fc1b327bd014">getPrimaryParticleMap</a> ()</td></tr>
<tr class="separator:a84b83954eebdd3823a26fc1b327bd014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4080675f0aa204eac92114827588b1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#ac4080675f0aa204eac92114827588b1d">indexOf</a> (G4PrimaryParticle *primary)</td></tr>
<tr class="separator:ac4080675f0aa204eac92114827588b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c7a1bd88b72c0aa3ba764f290136886"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a> (MCParticle *particle)</td></tr>
<tr class="separator:a0c7a1bd88b72c0aa3ba764f290136886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2857d0618857c88bf67a7e29d3f3e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#aea2857d0618857c88bf67a7e29d3f3e1">isDaughter</a> (G4PrimaryParticle *particle, const std::set&lt; G4PrimaryParticle * &gt; &amp;primaries)</td></tr>
<tr class="separator:aea2857d0618857c88bf67a7e29d3f3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981e1b567b250b222bdc2d4681ad27a0"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a981e1b567b250b222bdc2d4681ad27a0">smearZPosition</a> (const G4double rms)</td></tr>
<tr class="separator:a981e1b567b250b222bdc2d4681ad27a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSingleton"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSingleton')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classSingleton.html">Singleton&lt; MCParticleManager &gt;</a></td></tr>
<tr class="memitem:a04783ca27b0280a844368faf849c8ddb inherit pub_methods_classSingleton"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSingleton.html#a04783ca27b0280a844368faf849c8ddb">Singleton</a> ()</td></tr>
<tr class="separator:a04783ca27b0280a844368faf849c8ddb inherit pub_methods_classSingleton"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e1752d4a52503026de0ee1541325127 inherit pub_methods_classSingleton"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSingleton.html#a4e1752d4a52503026de0ee1541325127">~Singleton</a> ()</td></tr>
<tr class="separator:a4e1752d4a52503026de0ee1541325127 inherit pub_methods_classSingleton"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b477d0e2d399f75d585d154c346591 inherit pub_methods_classSingleton"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSingleton.html#a23b477d0e2d399f75d585d154c346591">release</a> ()</td></tr>
<tr class="separator:a23b477d0e2d399f75d585d154c346591 inherit pub_methods_classSingleton"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aac840912177d3eacf9721806cd71436e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#aac840912177d3eacf9721806cd71436e">setMCParticleCollection</a> (LCCollectionVec *mcpVec)</td></tr>
<tr class="separator:aac840912177d3eacf9721806cd71436e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classslic_1_1Module"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classslic_1_1Module')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="classslic_1_1Module.html">Module</a></td></tr>
<tr class="memitem:a6570160f4eb5e351435d95faa75ad915 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a6570160f4eb5e351435d95faa75ad915">~Module</a> ()</td></tr>
<tr class="separator:a6570160f4eb5e351435d95faa75ad915 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac889365b3155d4397ee493d040266718 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ac889365b3155d4397ee493d040266718">beginEvent</a> (const G4Event *)</td></tr>
<tr class="separator:ac889365b3155d4397ee493d040266718 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bb5cc9833eb15797fef07038c64b8e inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a33bb5cc9833eb15797fef07038c64b8e">beginRun</a> (const G4Run *)</td></tr>
<tr class="separator:a33bb5cc9833eb15797fef07038c64b8e inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f4fe805fa9a54d4d68c5b29c1502e1 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a09f4fe805fa9a54d4d68c5b29c1502e1">cleanup</a> ()</td></tr>
<tr class="separator:a09f4fe805fa9a54d4d68c5b29c1502e1 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fff5ef80a6f584038d30819a17d7239 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a3fff5ef80a6f584038d30819a17d7239">deleteOnExit</a> ()</td></tr>
<tr class="separator:a3fff5ef80a6f584038d30819a17d7239 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24fda82b97bc47274f8f4c20d8ebf03e inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a24fda82b97bc47274f8f4c20d8ebf03e">endEvent</a> (const G4Event *)</td></tr>
<tr class="separator:a24fda82b97bc47274f8f4c20d8ebf03e inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f4f5cd42992e06f7b4ce526a5c6456 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a93f4f5cd42992e06f7b4ce526a5c6456">endRun</a> (const G4Run *)</td></tr>
<tr class="separator:a93f4f5cd42992e06f7b4ce526a5c6456 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8802382fe16a9f1966b9565e38a8495a inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a8802382fe16a9f1966b9565e38a8495a">getName</a> () const</td></tr>
<tr class="separator:a8802382fe16a9f1966b9565e38a8495a inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b40f4f80b8bf5f81751b7bcb1f9b12f inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classslic_1_1Module.html#a50a7721e11e14f338207a83b9ab26ec9">ModuleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a5b40f4f80b8bf5f81751b7bcb1f9b12f">getStatus</a> () const</td></tr>
<tr class="separator:a5b40f4f80b8bf5f81751b7bcb1f9b12f inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6365dca5a7d8ddb694726a53b55a4c27 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a6365dca5a7d8ddb694726a53b55a4c27">initialize</a> ()</td></tr>
<tr class="separator:a6365dca5a7d8ddb694726a53b55a4c27 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af806f013ae865309882e211160bd8fc8 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classslic_1_1LogStream.html">LogStream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a> ()</td></tr>
<tr class="separator:af806f013ae865309882e211160bd8fc8 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85bb4e8118249ad659f30d52572249c inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ae85bb4e8118249ad659f30d52572249c">postTracking</a> (const G4Track *)</td></tr>
<tr class="separator:ae85bb4e8118249ad659f30d52572249c inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8aa989d0c9d81aa69d99f64a1128244 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ab8aa989d0c9d81aa69d99f64a1128244">preTracking</a> (const G4Track *)</td></tr>
<tr class="separator:ab8aa989d0c9d81aa69d99f64a1128244 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84305302da037cfafcf35c19f3d7723 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ad84305302da037cfafcf35c19f3d7723">stepping</a> (const G4Step *)</td></tr>
<tr class="separator:ad84305302da037cfafcf35c19f3d7723 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b488a14251c880422a324540415854 inherit pub_methods_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ab7b488a14251c880422a324540415854">Module</a> (const std::string &amp;name, bool <a class="el" href="classslic_1_1Module.html#a3fff5ef80a6f584038d30819a17d7239">deleteOnExit</a>=true, bool autoRegister=true)</td></tr>
<tr class="separator:ab7b488a14251c880422a324540415854 inherit pub_methods_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab3844baaa7fd692067b22c6cbda74f05"><td class="memItemLeft" align="right" valign="top">LCCollectionVec *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#ab3844baaa7fd692067b22c6cbda74f05">_inputVec</a></td></tr>
<tr class="separator:ab3844baaa7fd692067b22c6cbda74f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0787a26c0193904bda45de0392354843"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceslic.html#a2122ec31c56328c35d7d271933aac7eb">MCParticleMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a0787a26c0193904bda45de0392354843">_mcpMap</a></td></tr>
<tr class="separator:a0787a26c0193904bda45de0392354843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec12193455be939bc7e736cbaf2d4f1d"><td class="memItemLeft" align="right" valign="top">LCCollectionVec *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">_mcpVec</a></td></tr>
<tr class="separator:aec12193455be939bc7e736cbaf2d4f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb9dffbdacb2b908b5dd3ba719f67aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceslic.html#a7329adb19282b74b446ce0054dab0788">PrimaryParticleMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a7fb9dffbdacb2b908b5dd3ba719f67aa">_primaryMap</a></td></tr>
<tr class="separator:a7fb9dffbdacb2b908b5dd3ba719f67aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1abea6315e2c296873090cb754092690"><td class="memItemLeft" align="right" valign="top">std::vector&lt; G4PrimaryParticle * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a></td></tr>
<tr class="separator:a1abea6315e2c296873090cb754092690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913743b951265daac0396ccedfad3c87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceslic.html#ab190cbab570249fc0552031834e8ec79">TrackIDMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1MCParticleManager.html#a913743b951265daac0396ccedfad3c87">_trackIDMap</a></td></tr>
<tr class="separator:a913743b951265daac0396ccedfad3c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classslic_1_1Module"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classslic_1_1Module')"><img src="closed.png" alt="-"/>&#160;Private Attributes inherited from <a class="el" href="classslic_1_1Module.html">Module</a></td></tr>
<tr class="memitem:ae06e4de9bf23fc0f2a6204fbca09cdb4 inherit pub_attribs_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ae06e4de9bf23fc0f2a6204fbca09cdb4">m_deleteOnExit</a></td></tr>
<tr class="separator:ae06e4de9bf23fc0f2a6204fbca09cdb4 inherit pub_attribs_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b98547f3834347195ede9da1175102 inherit pub_attribs_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classslic_1_1LogStream.html">LogStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ac5b98547f3834347195ede9da1175102">m_log</a></td></tr>
<tr class="separator:ac5b98547f3834347195ede9da1175102 inherit pub_attribs_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb41893ba19e889e56c559f25fc1a68a inherit pub_attribs_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a></td></tr>
<tr class="separator:adb41893ba19e889e56c559f25fc1a68a inherit pub_attribs_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b54944f754fa5f89dfe79c10611b99 inherit pub_attribs_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classslic_1_1Module.html#a50a7721e11e14f338207a83b9ab26ec9">ModuleStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#ac6b54944f754fa5f89dfe79c10611b99">m_status</a></td></tr>
<tr class="separator:ac6b54944f754fa5f89dfe79c10611b99 inherit pub_attribs_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classSingleton"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classSingleton')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classSingleton.html">Singleton&lt; MCParticleManager &gt;</a></td></tr>
<tr class="memitem:ade6193af70013295b23e0318cbb276bd inherit pub_static_methods_classSingleton"><td class="memItemLeft" align="right" valign="top">static MCParticleManager *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSingleton.html#ade6193af70013295b23e0318cbb276bd">instance</a> ()</td></tr>
<tr class="separator:ade6193af70013295b23e0318cbb276bd inherit pub_static_methods_classSingleton"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classslic_1_1Module"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classslic_1_1Module')"><img src="closed.png" alt="-"/>&#160;Private Types inherited from <a class="el" href="classslic_1_1Module.html">Module</a></td></tr>
<tr class="memitem:a50a7721e11e14f338207a83b9ab26ec9 inherit pub_types_classslic_1_1Module"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classslic_1_1Module.html#a50a7721e11e14f338207a83b9ab26ec9">ModuleStatus</a> { <a class="el" href="classslic_1_1Module.html#a50a7721e11e14f338207a83b9ab26ec9a01ff808a6ae13a94eeb34003ee643925">eOkay</a> = 0, 
<a class="el" href="classslic_1_1Module.html#a50a7721e11e14f338207a83b9ab26ec9a941bc60001f0641b15dee5be7edde89d">eNotInitialized</a> = 1, 
<a class="el" href="classslic_1_1Module.html#a50a7721e11e14f338207a83b9ab26ec9aded0d6c406ba8f168aa929712b671310">eBadState</a> = 2, 
<a class="el" href="classslic_1_1Module.html#a50a7721e11e14f338207a83b9ab26ec9a23e5779d5a8b76861346f484b0a458ef">eFatalError</a> = 3
 }</td></tr>
<tr class="separator:a50a7721e11e14f338207a83b9ab26ec9 inherit pub_types_classslic_1_1Module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Management of global MCParticle information. </p>
<dl class="section note"><dt>Note</dt><dd>This class is responsible for management of MCParticle information and provides central utilities for use by event generation classes such as the <a class="el" href="classslic_1_1MCParticleGenerator.html" title="Converts from MCParticle collection into a G4Event.">MCParticleGenerator</a> and <a class="el" href="classslic_1_1StdHepGenerator.html" title="Converts from StdHep input to a G4Event.">StdHepGenerator</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00048">48</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af7df816ebc395ab2a46635c4e83cd86a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7df816ebc395ab2a46635c4e83cd86a">&#9670;&nbsp;</a></span>MCParticleManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classslic_1_1MCParticleManager.html">MCParticleManager</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Class constructor. </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00055">55</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                            :</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <a class="code" href="classslic_1_1Module.html#ab7b488a14251c880422a324540415854">Module</a>(<span class="stringliteral">&quot;MCParticleManager&quot;</span>), <a class="code" href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">_mcpVec</a>(0) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f2658a2cf1cb406dee4ab01b75bbd8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f2658a2cf1cb406dee4ab01b75bbd8f">&#9670;&nbsp;</a></span>~MCParticleManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classslic_1_1MCParticleManager.html">MCParticleManager</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Class destructor. </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00062">62</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                     {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3ea8c1ebd7ff9c077b63b5e636c700da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ea8c1ebd7ff9c077b63b5e636c700da">&#9670;&nbsp;</a></span>addMCParticleTrackID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void addMCParticleTrackID </td>
          <td>(</td>
          <td class="paramtype">G4int&#160;</td>
          <td class="paramname"><em>trackId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MCParticle *&#160;</td>
          <td class="paramname"><em>particle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add an MCParticle associated with a track ID. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trackId</td><td>The track ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">particle</td><td>The MCParticle object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00077">77</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                                                       {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">if</span> (trackId &lt;= 0) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="classslic_1_1MCParticleManager.html#a913743b951265daac0396ccedfad3c87">_trackIDMap</a>[trackId] = particle;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00202">MCParticleManager::_trackIDMap</a>.</p>

</div>
</div>
<a id="a386be2ce20c3a98452ed6dbb7fee0e13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a386be2ce20c3a98452ed6dbb7fee0e13">&#9670;&nbsp;</a></span>applyLorentzTransformation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void applyLorentzTransformation </td>
          <td>(</td>
          <td class="paramtype">LCCollection *&#160;</td>
          <td class="paramname"><em>mcparticles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const G4double&#160;</td>
          <td class="paramname"><em>angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apply a Lorentz Transformation angle to a collection of MCParticles. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mcparticles</td><td>The MCParticle collection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">angle</td><td>The Lorentz Transformation angle. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8cc_source.html#l00320">320</a> of file <a class="el" href="MCParticleManager_8cc_source.html">MCParticleManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                                                                                {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (alpha == 0) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// nothing to do</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// parameters of the Lorentz transformation matrix</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keyword">const</span> G4double gamma = sqrt(1 + sqr(tan(alpha)));</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keyword">const</span> G4double betagamma = tan(alpha);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (particles != 0) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordtype">int</span> nMCP = particles-&gt;getNumberOfElements();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nMCP; ++i) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            IMPL::MCParticleImpl* mcp = <span class="keyword">dynamic_cast&lt;</span>IMPL::MCParticleImpl*<span class="keyword">&gt;</span>(particles-&gt;getElementAt(i));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span>* p = mcp-&gt;getMomentum();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="comment">// before the transformation</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordtype">double</span> pPrime[3];</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keyword">const</span> G4double m = mcp-&gt;getMass();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="comment">//G4cout &lt;&lt; &quot;pre pX: &quot; &lt;&lt; p[0] &lt;&lt; G4endl;</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="comment">// after the transformation (boost in x-direction)</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            pPrime[0] = betagamma * sqrt(sqr(p[0]) + sqr(p[1]) + sqr(p[2]) + sqr(m)) + gamma * p[0];</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            pPrime[1] = p[1];</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            pPrime[2] = p[2];</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="comment">//G4cout &lt;&lt; &quot;transformed pX: &quot; &lt;&lt; pPrime[0] &lt;&lt; G4endl;</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="comment">// py and pz remain the same, E changes implicitly with px</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            mcp-&gt;setMomentum(pPrime);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>.</p>

</div>
</div>
<a id="ae14e455a55510ec2b6e637a12bfe0c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae14e455a55510ec2b6e637a12bfe0c32">&#9670;&nbsp;</a></span>createMCParticleCollection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void createMCParticleCollection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create an empty MCParticle collection. </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00114">114</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                          {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">_mcpVec</a> == 0) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <a class="code" href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">_mcpVec</a> = <span class="keyword">new</span> LCCollectionVec(EVENT::LCIO::MCPARTICLE);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00211">MCParticleManager::_mcpVec</a>.</p>

</div>
</div>
<a id="acb092e25ceccca267b4e4c773b3d855b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb092e25ceccca267b4e4c773b3d855b">&#9670;&nbsp;</a></span>createPrimary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; G4PrimaryParticle * &gt; createPrimary </td>
          <td>(</td>
          <td class="paramtype">G4PrimaryParticle *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MCParticle *&#160;</td>
          <td class="paramname"><em>mcp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a primary particle from an MCParticle and recursively create primaries for all its daughters. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mcp</td><td>the input MCParticle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the primary particle converted from the MCParticle </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8cc_source.html#l00177">177</a> of file <a class="el" href="MCParticleManager_8cc_source.html">MCParticleManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                                                                      {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// The MCParticle argument should not be null.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (mcp == 0) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        G4Exception(<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, FatalException, <span class="stringliteral">&quot;MCParticle is null.&quot;</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Set of primaries that will be returned.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    std::set&lt;G4PrimaryParticle*&gt; primaries;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    G4PrimaryParticle* primary = 0;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// Is this primary not created yet and does it have a valid generator status?</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classslic_1_1MCParticleManager.html#a7fb9dffbdacb2b908b5dd3ba719f67aa">_primaryMap</a>.count(mcp) == 0 &amp;&amp; (mcp-&gt;getGeneratorStatus() == 1 || mcp-&gt;getGeneratorStatus() == 2)) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;creating primary for MC particle &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(mcp) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="comment">// Create the primary particle from the MCParticle&#39;s information.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        primary = <span class="keyword">new</span> G4PrimaryParticle();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        primary-&gt;SetPDGcode(mcp-&gt;getPDG());</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        primary-&gt;SetCharge(mcp-&gt;getCharge());</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        primary-&gt;SetMass(mcp-&gt;getMass() * GeV);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span>* p = mcp-&gt;getMomentum();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        primary-&gt;SetMomentum(p[0] * GeV, p[1] * GeV, p[2] * GeV);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// Set the proper time by subtracting from first daughter&#39;s time.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">if</span> (mcp-&gt;getDaughters().size() &gt; 0) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;MCParticle &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(mcp) &lt;&lt; <span class="stringliteral">&quot; has &quot;</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            &lt;&lt; mcp-&gt;getDaughters().size() &lt;&lt; <span class="stringliteral">&quot; daughters &quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            MCParticle* dp = mcp-&gt;getDaughters()[0];</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordtype">double</span> properTime = fabs((dp-&gt;getTime() - mcp-&gt;getTime()) * mcp-&gt;getMass()) / mcp-&gt;getEnergy();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            primary-&gt;SetProperTime(properTime * ns);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;proper time for MCParticle &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(mcp) &lt;&lt; <span class="stringliteral">&quot; set to &quot;</span> &lt;&lt; (properTime * ns) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">// Map primary to MCParticle.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="classslic_1_1MCParticleManager.html#a7fb9dffbdacb2b908b5dd3ba719f67aa">_primaryMap</a>[mcp] = primary;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// Map MCParticle to primary.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="classslic_1_1MCParticleManager.html#a0787a26c0193904bda45de0392354843">_mcpMap</a>[primary] = mcp;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="comment">// DEBUG: store index of primary matching the MCParticle</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a>[<a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(mcp)] = primary;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span> (parent != 0) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            parent-&gt;SetDaughter(primary);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;added dau primary &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">MCParticleManager::indexOf</a>(primary) &lt;&lt; <span class="stringliteral">&quot; to parent &quot;</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">MCParticleManager::indexOf</a>(parent) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;skipping create primary on DOC particle&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        primaries.insert(primary);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">// DEBUG: print primary info</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (primary != 0) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a> &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;created primary &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(primary) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  PDG: &quot;</span> &lt;&lt; primary-&gt;GetPDGcode() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  mass: &quot;</span> &lt;&lt; primary-&gt;GetMass() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  charge: &quot;</span> &lt;&lt; primary-&gt;GetCharge() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  momentum: &quot;</span> &lt;&lt; primary-&gt;GetMomentum() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  proper time: &quot;</span> &lt;&lt; primary-&gt;GetProperTime() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  has dau: &quot;</span> &lt;&lt; (primary-&gt;GetDaughter() != 0) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classslic_1_1MCParticleManager.html#a7fb9dffbdacb2b908b5dd3ba719f67aa">_primaryMap</a>.count(mcp) == 0) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;primary was already created for MCParticle &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">MCParticleManager::indexOf</a>(mcp) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; mcp-&gt;getDaughters().size(); i++) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;recursively creating primaries for &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(primary) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        std::set&lt;G4PrimaryParticle*&gt; daughters = <a class="code" href="classslic_1_1MCParticleManager.html#acb092e25ceccca267b4e4c773b3d855b">createPrimary</a>(primary, mcp-&gt;getDaughters()[i]);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;created &quot;</span> &lt;&lt; daughters.size() &lt;&lt; <span class="stringliteral">&quot; daughter primaries&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span> (daughters.size() &gt; 0) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            primaries.insert(daughters.begin(), daughters.end());</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>().<a class="code" href="classslic_1_1LogStream.html#aa0151873ee40ffba5e86a62392333712">getOutputStream</a>().flush();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> primaries;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00197">MCParticleManager::_mcpMap</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00192">MCParticleManager::_primaryMap</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00213">MCParticleManager::_primaryVec</a>, <a class="el" href="LogStream_8hh_source.html#l00033">LOG::debug</a>, <a class="el" href="LogStream_8hh_source.html#l00026">LOG::done</a>, <a class="el" href="LogStream_8hh_source.html#l00026">LOG::endl</a>, <a class="el" href="LogStream_8hh_source.html#l00143">LogStream::getOutputStream()</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00124">MCParticleManager::indexOf()</a>, and <a class="el" href="Module_8hh_source.html#l00099">Module::log()</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>.</p>

</div>
</div>
<a id="ae782ddcc0efa0db2a1d77eebcb3f5dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae782ddcc0efa0db2a1d77eebcb3f5dcf">&#9670;&nbsp;</a></span>createVertex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4PrimaryVertex * createVertex </td>
          <td>(</td>
          <td class="paramtype">MCParticle *&#160;</td>
          <td class="paramname"><em>mcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a primary vertex from an MCParticle. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mcp</td><td>the input MCParticle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the primary vertex converted from the MCParticle </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8cc_source.html#l00285">285</a> of file <a class="el" href="MCParticleManager_8cc_source.html">MCParticleManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                                                {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    G4PrimaryVertex* vertex = 0;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (mcp-&gt;getGeneratorStatus() == 1 || mcp-&gt;getGeneratorStatus() == 2) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;creating vertex for MC particle &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(mcp) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// Get the particle&#39;s origin.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span>* particleVertex = mcp-&gt;getVertex();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        G4ThreeVector particlePosition(particleVertex[0], particleVertex[1], particleVertex[2]);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="comment">// Get the particle&#39;s time.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        G4double particleTime = mcp-&gt;getTime();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="comment">// Create a new vertex for this particle.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        vertex = <span class="keyword">new</span> G4PrimaryVertex(particlePosition, particleTime);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a> &lt;&lt; <span class="stringliteral">&quot;created vertex for &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(mcp) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  position: &quot;</span> &lt;&lt; vertex-&gt;GetPosition() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  time: &quot;</span> &lt;&lt; particleTime &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;skipped vertex creation for DOC particle &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(mcp) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> vertex;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LogStream_8hh_source.html#l00033">LOG::debug</a>, <a class="el" href="LogStream_8hh_source.html#l00026">LOG::done</a>, <a class="el" href="LogStream_8hh_source.html#l00026">LOG::endl</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00124">MCParticleManager::indexOf()</a>, and <a class="el" href="Module_8hh_source.html#l00099">Module::log()</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>.</p>

</div>
</div>
<a id="affc912f098f09a151ad0f6b4cb6b33f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc912f098f09a151ad0f6b4cb6b33f5">&#9670;&nbsp;</a></span>findMCParticle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MCParticle* findMCParticle </td>
          <td>(</td>
          <td class="paramtype">G4int&#160;</td>
          <td class="paramname"><em>trackId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find an MCParticle from a track ID. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trackId</td><td>The track ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The found MCParticle or NULL if not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00089">89</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                                  {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classslic_1_1MCParticleManager.html#a913743b951265daac0396ccedfad3c87">_trackIDMap</a>[trackId];</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00202">MCParticleManager::_trackIDMap</a>.</p>

</div>
</div>
<a id="a44d80b923f84c72cd79737d517c2485d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d80b923f84c72cd79737d517c2485d">&#9670;&nbsp;</a></span>generateEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generateEvent </td>
          <td>(</td>
          <td class="paramtype">LCCollectionVec *&#160;</td>
          <td class="paramname"><em>mcparticles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4Event *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate an event from a collection of MCParticles. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mcparticles</td><td>The MCParticle collection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>The output G4Event. </td></tr>
  </table>
  </dd>
</dl>
<p>Apply the Lorentz Transformation to input particles.</p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8cc_source.html#l00013">13</a> of file <a class="el" href="MCParticleManager_8cc_source.html">MCParticleManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                                                                                {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="classslic_1_1MCParticleManager.html#ab3844baaa7fd692067b22c6cbda74f05">_inputVec</a> = particles;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a> = std::vector&lt;G4PrimaryParticle*&gt;(particles-&gt;size());</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#if SLIC_LOG</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a04f1b071f494983129aefb83ff7e90bd">LOG::head</a> &lt;&lt; <span class="stringliteral">&quot;generating event &quot;</span> &lt;&lt; <span class="keyword">event</span>-&gt;GetEventID() &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; particles-&gt;size() &lt;&lt; <span class="stringliteral">&quot; particles&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="comment">// Apply Z smearing to input particles.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#if SLIC_LOG</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;applying Z smearing: &quot;</span> &lt;&lt; <a class="code" href="classSingleton.html#ade6193af70013295b23e0318cbb276bd">EventSourceManager::instance</a>()-&gt;getZSmearing() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="classslic_1_1MCParticleManager.html#a981e1b567b250b222bdc2d4681ad27a0">smearZPosition</a>(<a class="code" href="classSingleton.html#ade6193af70013295b23e0318cbb276bd">EventSourceManager::instance</a>()-&gt;getZSmearing());</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#if SLIC_LOG</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;applying Lorentz transform: &quot;</span> &lt;&lt; <a class="code" href="classSingleton.html#ade6193af70013295b23e0318cbb276bd">EventSourceManager::instance</a>()-&gt;getLorentzTransformationAngle() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="classslic_1_1MCParticleManager.html#a386be2ce20c3a98452ed6dbb7fee0e13">applyLorentzTransformation</a>(particles, <a class="code" href="classSingleton.html#ade6193af70013295b23e0318cbb276bd">EventSourceManager::instance</a>()-&gt;getLorentzTransformationAngle());</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#if SLIC_LOG</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">// Loop over MCParticle input list.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; particles-&gt;size(); i++) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment">// Get the next MCParticle.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        MCParticle* mcp = (MCParticle*) (*particles)[i];</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="comment">// Debug print information about the particle.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;processing MC particle &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  PDG: &quot;</span> &lt;&lt; mcp-&gt;getPDG() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  gen status: &quot;</span> &lt;&lt; mcp-&gt;getGeneratorStatus() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  sim status: &quot;</span> &lt;&lt; mcp-&gt;getSimulatorStatus() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  energy: &quot;</span> &lt;&lt; mcp-&gt;getEnergy() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  time: &quot;</span> &lt;&lt; mcp-&gt;getTime() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  daughters: &quot;</span> &lt;&lt; mcp-&gt;getDaughters().size() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  vertex: ( &quot;</span> &lt;&lt; mcp-&gt;getVertex()[0] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; mcp-&gt;getVertex()[1] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; mcp-&gt;getVertex()[2] &lt;&lt; <span class="stringliteral">&quot; )&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  p: ( &quot;</span> &lt;&lt; mcp-&gt;getMomentum()[0] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; mcp-&gt;getMomentum()[1] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; mcp-&gt;getMomentum()[2] &lt;&lt; <span class="stringliteral">&quot; )&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  charge: &quot;</span> &lt;&lt; mcp-&gt;getCharge() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  mass: &quot;</span> &lt;&lt; mcp-&gt;getMass() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  daughters: &quot;</span> &lt;&lt; mcp-&gt;getDaughters().size() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;  parents: &quot;</span> &lt;&lt; mcp-&gt;getParents().size() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment">// Only process particles without parents; daughters will be handled recursively.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (mcp-&gt;getParents().size() == 0) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;creating new vertex for MCParticle &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="comment">// Create a new primary vertex.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            G4PrimaryVertex* vertex = <a class="code" href="classslic_1_1MCParticleManager.html#ae782ddcc0efa0db2a1d77eebcb3f5dcf">createVertex</a>(mcp);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">if</span> (vertex != 0) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;created vertex for MCParticle &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; at &quot;</span> &lt;&lt; vertex-&gt;GetPosition() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;no new vertex created for particle &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;creating primary for MCParticle &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="comment">// Create a primary particle and recursively create primaries for its daughters.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keyword">const</span> std::set&lt;G4PrimaryParticle*&gt; primaries = <a class="code" href="classslic_1_1MCParticleManager.html#acb092e25ceccca267b4e4c773b3d855b">createPrimary</a>(0, mcp);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;found &quot;</span> &lt;&lt; primaries.size() &lt;&lt; <span class="stringliteral">&quot; relevant primaries&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="comment">// Were any primaries created?</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">if</span> (primaries.size() &gt; 0) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;created &quot;</span> &lt;&lt; primaries.size() &lt;&lt; <span class="stringliteral">&quot; for MCParticle &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="comment">// Loop over returned set of primary particles.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <span class="keywordflow">for</span> (std::set&lt;G4PrimaryParticle*&gt;::const_iterator it = primaries.begin(); it != primaries.end(); it++) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                    <span class="comment">// Is this a top-level particle with no daughters?</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="classslic_1_1MCParticleManager.html#aea2857d0618857c88bf67a7e29d3f3e1">MCParticleManager::isDaughter</a>((*it), primaries)) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a> () &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;found primary &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>((*it)) &lt;&lt; <span class="stringliteral">&quot; with no parent&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                        <span class="comment">// Create a new vertex if necessary.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                        <span class="keywordflow">if</span> (vertex == 0) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <span class="stringliteral">&quot;creating vertex for MCParticle &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(<a class="code" href="classslic_1_1MCParticleManager.html#a0787a26c0193904bda45de0392354843">_mcpMap</a>[(*it)]) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                            <span class="comment">// Create vertex by looking up MCParticle from the primary.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                            vertex = <a class="code" href="classslic_1_1MCParticleManager.html#ae782ddcc0efa0db2a1d77eebcb3f5dcf">createVertex</a>(<a class="code" href="classslic_1_1MCParticleManager.html#a0787a26c0193904bda45de0392354843">_mcpMap</a>[(*it)]);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                        }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        <span class="comment">// Add the primary particle to the vertex.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <span class="stringliteral">&quot;setting primary &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>((*it)) &lt;&lt; <span class="stringliteral">&quot; on vertex&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        vertex-&gt;SetPrimary(*it);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="comment">// Add the vertex to the event.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;adding primary vertex to event&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keyword">event</span>-&gt;AddPrimaryVertex(vertex);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;no primary created for &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="comment">// No primaries created so this record and its daughters are skipped!</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">if</span> (vertex != 0) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;deleting empty vertex for particle &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="keyword">delete</span> vertex;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#ifdef SLIC_LOG</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a> &lt;&lt; <span class="stringliteral">&quot;generated &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a>.size() &lt;&lt; <span class="stringliteral">&quot; primaries&quot;</span> &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">for</span> (std::vector&lt;G4PrimaryParticle*&gt;::iterator it = <a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a>.begin();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            it != <a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a>.end();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            it++) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        G4PrimaryParticle* primary = (*it);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">if</span> (primary != 0) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a> &lt;&lt; <a class="code" href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a> &lt;&lt; <span class="stringliteral">&quot;created primary &quot;</span> &lt;&lt; <a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(primary) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  PDG: &quot;</span> &lt;&lt; primary-&gt;GetPDGcode() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  mass: &quot;</span> &lt;&lt; primary-&gt;GetMass() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  charge: &quot;</span> &lt;&lt; primary-&gt;GetCharge() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  momentum: &quot;</span> &lt;&lt; primary-&gt;GetMomentum() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  proper time: &quot;</span> &lt;&lt; primary-&gt;GetProperTime() &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;  has dau: &quot;</span> &lt;&lt; (primary-&gt;GetDaughter() != 0) &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">if</span> (primary-&gt;GetDaughter() != 0) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                std::vector&lt;int&gt; dauIndices;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                G4PrimaryParticle* daughter = primary-&gt;GetDaughter();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">while</span> (daughter) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    dauIndices.push_back(<a class="code" href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">indexOf</a>(daughter));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    daughter = daughter-&gt;GetNext();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <a class="code" href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">log</a>() &lt;&lt; <span class="stringliteral">&quot;  daughters: &quot;</span> &lt;&lt; dauIndices &lt;&lt; <a class="code" href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        } <span class="comment">/* else {</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">         log() &lt;&lt; &quot;primary is null!&quot; &lt;&lt; LOG::endl;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">         } */</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// Register the collection of MCParticles that was created.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classslic_1_1MCParticleManager.html#aac840912177d3eacf9721806cd71436e">setMCParticleCollection</a>(particles);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00204">MCParticleManager::_inputVec</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00197">MCParticleManager::_mcpMap</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00213">MCParticleManager::_primaryVec</a>, <a class="el" href="MCParticleManager_8cc_source.html#l00320">MCParticleManager::applyLorentzTransformation()</a>, <a class="el" href="MCParticleManager_8cc_source.html#l00177">MCParticleManager::createPrimary()</a>, <a class="el" href="MCParticleManager_8cc_source.html#l00285">MCParticleManager::createVertex()</a>, <a class="el" href="LogStream_8hh_source.html#l00033">LOG::debug</a>, <a class="el" href="LogStream_8hh_source.html#l00026">LOG::done</a>, <a class="el" href="LogStream_8hh_source.html#l00026">LOG::endl</a>, <a class="el" href="LogStream_8hh_source.html#l00026">LOG::head</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00124">MCParticleManager::indexOf()</a>, <a class="el" href="classSingleton.html#ade6193af70013295b23e0318cbb276bd">Singleton&lt; EventSourceManager &gt;::instance()</a>, <a class="el" href="MCParticleManager_8cc_source.html#l00370">MCParticleManager::isDaughter()</a>, <a class="el" href="Module_8hh_source.html#l00099">Module::log()</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00183">MCParticleManager::setMCParticleCollection()</a>, and <a class="el" href="MCParticleManager_8cc_source.html#l00360">MCParticleManager::smearZPosition()</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleGenerator_8cc_source.html#l00048">MCParticleGenerator::generateEvent()</a>.</p>

</div>
</div>
<a id="afa1ee554fd586530634c2b1a5d680519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1ee554fd586530634c2b1a5d680519">&#9670;&nbsp;</a></span>getMCParticleCollection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LCCollectionVec* getMCParticleCollection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the current MCParticle collection. </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00068">68</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                   {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">_mcpVec</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00211">MCParticleManager::_mcpVec</a>.</p>

</div>
</div>
<a id="a84b83954eebdd3823a26fc1b327bd014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b83954eebdd3823a26fc1b327bd014">&#9670;&nbsp;</a></span>getPrimaryParticleMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceslic.html#a7329adb19282b74b446ce0054dab0788">PrimaryParticleMap</a>* getPrimaryParticleMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the map of MCParticles to G4PrimaryParticles. </p><dl class="section return"><dt>Returns</dt><dd>The current PrimaryParticleMap. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00097">97</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                                    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">return</span> &amp;<a class="code" href="classslic_1_1MCParticleManager.html#a7fb9dffbdacb2b908b5dd3ba719f67aa">_primaryMap</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00192">MCParticleManager::_primaryMap</a>.</p>

</div>
</div>
<a id="ac4080675f0aa204eac92114827588b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4080675f0aa204eac92114827588b1d">&#9670;&nbsp;</a></span>indexOf() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int indexOf </td>
          <td>(</td>
          <td class="paramtype">G4PrimaryParticle *&#160;</td>
          <td class="paramname"><em>primary</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find index of a primary particle matching an MCParticle index. </p><dl class="section return"><dt>Returns</dt><dd>The index of the primary particle. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00132">132</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                                       {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">return</span> std::find(<a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a>.begin(), <a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a>.end(), primary) - <a class="code" href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">_primaryVec</a>.begin();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00213">MCParticleManager::_primaryVec</a>.</p>

</div>
</div>
<a id="a0c7a1bd88b72c0aa3ba764f290136886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c7a1bd88b72c0aa3ba764f290136886">&#9670;&nbsp;</a></span>indexOf() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int indexOf </td>
          <td>(</td>
          <td class="paramtype">MCParticle *&#160;</td>
          <td class="paramname"><em>particle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find index of an MCParticle in a collection. </p><dl class="section return"><dt>Returns</dt><dd>The index of the particle in the collection. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00124">124</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                                 {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">return</span> std::find(<a class="code" href="classslic_1_1MCParticleManager.html#ab3844baaa7fd692067b22c6cbda74f05">_inputVec</a>-&gt;begin(), <a class="code" href="classslic_1_1MCParticleManager.html#ab3844baaa7fd692067b22c6cbda74f05">_inputVec</a>-&gt;end(), particle) - <a class="code" href="classslic_1_1MCParticleManager.html#ab3844baaa7fd692067b22c6cbda74f05">_inputVec</a>-&gt;begin();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00204">MCParticleManager::_inputVec</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00177">MCParticleManager::createPrimary()</a>, <a class="el" href="MCParticleManager_8cc_source.html#l00285">MCParticleManager::createVertex()</a>, and <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>.</p>

</div>
</div>
<a id="aea2857d0618857c88bf67a7e29d3f3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2857d0618857c88bf67a7e29d3f3e1">&#9670;&nbsp;</a></span>isDaughter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isDaughter </td>
          <td>(</td>
          <td class="paramtype">G4PrimaryParticle *&#160;</td>
          <td class="paramname"><em>particle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; G4PrimaryParticle * &gt; &amp;&#160;</td>
          <td class="paramname"><em>primaries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if particle is a daughter of another primary. </p><dl class="section return"><dt>Returns</dt><dd>true if particle is a daughter </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8cc_source.html#l00370">370</a> of file <a class="el" href="MCParticleManager_8cc_source.html">MCParticleManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                                                                                           {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">for</span> (std::set&lt;G4PrimaryParticle*&gt;::iterator it = primaries.begin(); it != primaries.end(); it++) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        G4PrimaryParticle* dau = (*it)-&gt;GetDaughter();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">while</span> (dau != 0) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">if</span> (dau == particle) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            dau = dau-&gt;GetNext();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>.</p>

</div>
</div>
<a id="ad20897c5c8bd47f5d4005989bead0e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20897c5c8bd47f5d4005989bead0e55">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset the state of the <a class="el" href="classslic_1_1MCParticleManager.html" title="Management of global MCParticle information.">MCParticleManager</a>. </p>

<p>Reimplemented from <a class="el" href="classslic_1_1Module.html#a7b0e029102ad38f4b814c6523aedb53d">Module</a>.</p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00104">104</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                     {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <a class="code" href="classslic_1_1MCParticleManager.html#a913743b951265daac0396ccedfad3c87">_trackIDMap</a>.clear();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <a class="code" href="classslic_1_1MCParticleManager.html#a7fb9dffbdacb2b908b5dd3ba719f67aa">_primaryMap</a>.clear();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <a class="code" href="classslic_1_1MCParticleManager.html#a0787a26c0193904bda45de0392354843">_mcpMap</a>.clear();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <a class="code" href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">_mcpVec</a> = 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00197">MCParticleManager::_mcpMap</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00211">MCParticleManager::_mcpVec</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00192">MCParticleManager::_primaryMap</a>, and <a class="el" href="MCParticleManager_8hh_source.html#l00202">MCParticleManager::_trackIDMap</a>.</p>

</div>
</div>
<a id="aac840912177d3eacf9721806cd71436e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac840912177d3eacf9721806cd71436e">&#9670;&nbsp;</a></span>setMCParticleCollection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void setMCParticleCollection </td>
          <td>(</td>
          <td class="paramtype">LCCollectionVec *&#160;</td>
          <td class="paramname"><em>mcpVec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the MCParticle collection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mcpVec</td><td>The MCParticle collection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00183">183</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                                              {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">_mcpVec</a> = mcpVec;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="MCParticleManager_8hh_source.html#l00211">MCParticleManager::_mcpVec</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>.</p>

</div>
</div>
<a id="a981e1b567b250b222bdc2d4681ad27a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981e1b567b250b222bdc2d4681ad27a0">&#9670;&nbsp;</a></span>smearZPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4double smearZPosition </td>
          <td>(</td>
          <td class="paramtype">const G4double&#160;</td>
          <td class="paramname"><em>rms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next smeared Z position. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">The</td><td>RMS of the smearing algorithm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The smeared Z position. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8cc_source.html#l00360">360</a> of file <a class="el" href="MCParticleManager_8cc_source.html">MCParticleManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                                             {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    G4double z = 0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (rms != 0) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="comment">// Generate smeared Z position.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        z = G4RandGauss::shoot(0, rms/mm);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="comment">//G4cout &lt;&lt; &quot;Smeared Z position: &quot; &lt;&lt; z &lt;&lt; G4endl;</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span> z;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab3844baaa7fd692067b22c6cbda74f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3844baaa7fd692067b22c6cbda74f05">&#9670;&nbsp;</a></span>_inputVec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LCCollectionVec* _inputVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00204">204</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>, and <a class="el" href="MCParticleManager_8hh_source.html#l00124">MCParticleManager::indexOf()</a>.</p>

</div>
</div>
<a id="a0787a26c0193904bda45de0392354843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0787a26c0193904bda45de0392354843">&#9670;&nbsp;</a></span>_mcpMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceslic.html#a2122ec31c56328c35d7d271933aac7eb">MCParticleMap</a> _mcpMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reverse map of G4PrimaryParticle to MCParticle. </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00197">197</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00177">MCParticleManager::createPrimary()</a>, <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>, and <a class="el" href="MCParticleManager_8hh_source.html#l00104">MCParticleManager::reset()</a>.</p>

</div>
</div>
<a id="aec12193455be939bc7e736cbaf2d4f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec12193455be939bc7e736cbaf2d4f1d">&#9670;&nbsp;</a></span>_mcpVec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LCCollectionVec* _mcpVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The output MCParticle collection. This pointer is "taken" from the input reader, because it is added to the output event, which then automatically deletes it once the event is written (I think?). </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00211">211</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8hh_source.html#l00114">MCParticleManager::createMCParticleCollection()</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00068">MCParticleManager::getMCParticleCollection()</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00104">MCParticleManager::reset()</a>, and <a class="el" href="MCParticleManager_8hh_source.html#l00183">MCParticleManager::setMCParticleCollection()</a>.</p>

</div>
</div>
<a id="a7fb9dffbdacb2b908b5dd3ba719f67aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb9dffbdacb2b908b5dd3ba719f67aa">&#9670;&nbsp;</a></span>_primaryMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceslic.html#a7329adb19282b74b446ce0054dab0788">PrimaryParticleMap</a> _primaryMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Map of MCParticle to G4PrimaryParticle. </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00192">192</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00177">MCParticleManager::createPrimary()</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00097">MCParticleManager::getPrimaryParticleMap()</a>, and <a class="el" href="MCParticleManager_8hh_source.html#l00104">MCParticleManager::reset()</a>.</p>

</div>
</div>
<a id="a1abea6315e2c296873090cb754092690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1abea6315e2c296873090cb754092690">&#9670;&nbsp;</a></span>_primaryVec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;G4PrimaryParticle*&gt; _primaryVec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00213">213</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8cc_source.html#l00177">MCParticleManager::createPrimary()</a>, <a class="el" href="MCParticleManager_8cc_source.html#l00013">MCParticleManager::generateEvent()</a>, and <a class="el" href="MCParticleManager_8hh_source.html#l00132">MCParticleManager::indexOf()</a>.</p>

</div>
</div>
<a id="a913743b951265daac0396ccedfad3c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a913743b951265daac0396ccedfad3c87">&#9670;&nbsp;</a></span>_trackIDMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceslic.html#ab190cbab570249fc0552031834e8ec79">TrackIDMap</a> _trackIDMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Map of MCParticle to track ID. </p>

<p class="definition">Definition at line <a class="el" href="MCParticleManager_8hh_source.html#l00202">202</a> of file <a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a>.</p>

<p class="reference">Referenced by <a class="el" href="MCParticleManager_8hh_source.html#l00077">MCParticleManager::addMCParticleTrackID()</a>, <a class="el" href="MCParticleManager_8hh_source.html#l00089">MCParticleManager::findMCParticle()</a>, and <a class="el" href="MCParticleManager_8hh_source.html#l00104">MCParticleManager::reset()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="MCParticleManager_8hh_source.html">MCParticleManager.hh</a></li>
<li><a class="el" href="MCParticleManager_8cc_source.html">MCParticleManager.cc</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassslic_1_1LogStream_html_aa0151873ee40ffba5e86a62392333712"><div class="ttname"><a href="classslic_1_1LogStream.html#aa0151873ee40ffba5e86a62392333712">slic::LogStream::getOutputStream</a></div><div class="ttdeci">ostream &amp; getOutputStream() const</div><div class="ttdef"><b>Definition:</b> <a href="LogStream_8hh_source.html#l00143">LogStream.hh:143</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_a1abea6315e2c296873090cb754092690"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#a1abea6315e2c296873090cb754092690">slic::MCParticleManager::_primaryVec</a></div><div class="ttdeci">std::vector&lt; G4PrimaryParticle * &gt; _primaryVec</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00213">MCParticleManager.hh:213</a></div></div>
<div class="ttc" id="anamespaceLOG_html_aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18"><div class="ttname"><a href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a5cbad4ad24fd9b8c066cdad096cd2f18">LOG::endl</a></div><div class="ttdeci">@ endl</div><div class="ttdef"><b>Definition:</b> <a href="LogStream_8hh_source.html#l00026">LogStream.hh:26</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_aec12193455be939bc7e736cbaf2d4f1d"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#aec12193455be939bc7e736cbaf2d4f1d">slic::MCParticleManager::_mcpVec</a></div><div class="ttdeci">LCCollectionVec * _mcpVec</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00211">MCParticleManager.hh:211</a></div></div>
<div class="ttc" id="anamespaceLOG_html_a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da"><div class="ttname"><a href="namespaceLOG.html#a7cd66fd9f1b78589fbb50b32467ce786a5be0fd270d9cbf6a0b7445db855089da">LOG::debug</a></div><div class="ttdeci">@ debug</div><div class="ttdef"><b>Definition:</b> <a href="LogStream_8hh_source.html#l00033">LogStream.hh:33</a></div></div>
<div class="ttc" id="anamespaceLOG_html_aa04401483bcda9621e4a1610347436d5a04f1b071f494983129aefb83ff7e90bd"><div class="ttname"><a href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a04f1b071f494983129aefb83ff7e90bd">LOG::head</a></div><div class="ttdeci">@ head</div><div class="ttdef"><b>Definition:</b> <a href="LogStream_8hh_source.html#l00026">LogStream.hh:26</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_aea2857d0618857c88bf67a7e29d3f3e1"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#aea2857d0618857c88bf67a7e29d3f3e1">slic::MCParticleManager::isDaughter</a></div><div class="ttdeci">bool isDaughter(G4PrimaryParticle *particle, const std::set&lt; G4PrimaryParticle * &gt; &amp;primaries)</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8cc_source.html#l00370">MCParticleManager.cc:370</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_a386be2ce20c3a98452ed6dbb7fee0e13"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#a386be2ce20c3a98452ed6dbb7fee0e13">slic::MCParticleManager::applyLorentzTransformation</a></div><div class="ttdeci">void applyLorentzTransformation(LCCollection *mcparticles, const G4double angle)</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8cc_source.html#l00320">MCParticleManager.cc:320</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_a7fb9dffbdacb2b908b5dd3ba719f67aa"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#a7fb9dffbdacb2b908b5dd3ba719f67aa">slic::MCParticleManager::_primaryMap</a></div><div class="ttdeci">PrimaryParticleMap _primaryMap</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00192">MCParticleManager.hh:192</a></div></div>
<div class="ttc" id="aclassSingleton_html_ade6193af70013295b23e0318cbb276bd"><div class="ttname"><a href="classSingleton.html#ade6193af70013295b23e0318cbb276bd">Singleton&lt; EventSourceManager &gt;::instance</a></div><div class="ttdeci">static EventSourceManager * instance()</div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_a0787a26c0193904bda45de0392354843"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#a0787a26c0193904bda45de0392354843">slic::MCParticleManager::_mcpMap</a></div><div class="ttdeci">MCParticleMap _mcpMap</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00197">MCParticleManager.hh:197</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_a913743b951265daac0396ccedfad3c87"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#a913743b951265daac0396ccedfad3c87">slic::MCParticleManager::_trackIDMap</a></div><div class="ttdeci">TrackIDMap _trackIDMap</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00202">MCParticleManager.hh:202</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_acb092e25ceccca267b4e4c773b3d855b"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#acb092e25ceccca267b4e4c773b3d855b">slic::MCParticleManager::createPrimary</a></div><div class="ttdeci">std::set&lt; G4PrimaryParticle * &gt; createPrimary(G4PrimaryParticle *parent, MCParticle *mcp)</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8cc_source.html#l00177">MCParticleManager.cc:177</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_ae782ddcc0efa0db2a1d77eebcb3f5dcf"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#ae782ddcc0efa0db2a1d77eebcb3f5dcf">slic::MCParticleManager::createVertex</a></div><div class="ttdeci">G4PrimaryVertex * createVertex(MCParticle *mcp)</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8cc_source.html#l00285">MCParticleManager.cc:285</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_aac840912177d3eacf9721806cd71436e"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#aac840912177d3eacf9721806cd71436e">slic::MCParticleManager::setMCParticleCollection</a></div><div class="ttdeci">void setMCParticleCollection(LCCollectionVec *mcpVec)</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00183">MCParticleManager.hh:183</a></div></div>
<div class="ttc" id="aclassslic_1_1Module_html_af806f013ae865309882e211160bd8fc8"><div class="ttname"><a href="classslic_1_1Module.html#af806f013ae865309882e211160bd8fc8">slic::Module::log</a></div><div class="ttdeci">LogStream &amp; log()</div><div class="ttdef"><b>Definition:</b> <a href="Module_8hh_source.html#l00099">Module.hh:99</a></div></div>
<div class="ttc" id="anamespaceLOG_html_aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199"><div class="ttname"><a href="namespaceLOG.html#aa04401483bcda9621e4a1610347436d5a9041c40ebd1ff09fe453b594ad748199">LOG::done</a></div><div class="ttdeci">@ done</div><div class="ttdef"><b>Definition:</b> <a href="LogStream_8hh_source.html#l00026">LogStream.hh:26</a></div></div>
<div class="ttc" id="aclassslic_1_1Module_html_ab7b488a14251c880422a324540415854"><div class="ttname"><a href="classslic_1_1Module.html#ab7b488a14251c880422a324540415854">slic::Module::Module</a></div><div class="ttdeci">Module(const std::string &amp;name, bool deleteOnExit=true, bool autoRegister=true)</div><div class="ttdef"><b>Definition:</b> <a href="Module_8cc_source.html#l00007">Module.cc:7</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_a981e1b567b250b222bdc2d4681ad27a0"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#a981e1b567b250b222bdc2d4681ad27a0">slic::MCParticleManager::smearZPosition</a></div><div class="ttdeci">G4double smearZPosition(const G4double rms)</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8cc_source.html#l00360">MCParticleManager.cc:360</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_ab3844baaa7fd692067b22c6cbda74f05"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#ab3844baaa7fd692067b22c6cbda74f05">slic::MCParticleManager::_inputVec</a></div><div class="ttdeci">LCCollectionVec * _inputVec</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00204">MCParticleManager.hh:204</a></div></div>
<div class="ttc" id="aclassslic_1_1MCParticleManager_html_a0c7a1bd88b72c0aa3ba764f290136886"><div class="ttname"><a href="classslic_1_1MCParticleManager.html#a0c7a1bd88b72c0aa3ba764f290136886">slic::MCParticleManager::indexOf</a></div><div class="ttdeci">int indexOf(MCParticle *particle)</div><div class="ttdef"><b>Definition:</b> <a href="MCParticleManager_8hh_source.html#l00124">MCParticleManager.hh:124</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
